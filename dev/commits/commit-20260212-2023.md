# Отчёт по коммиту T-02

Дата: 2026-02-12 20:23

Что реализовано:
- Добавлен workflow GitHub Actions для сборки и публикации Docker-образов `web` и `api` в GHCR.
- Настроены триггеры на `push` в `main` и на push тегов формата `v*`.
- Реализована стратегия тегирования образов:
  - `main` → `latest` и `sha-<git_sha>`;
  - `vX.Y.Z` → `X.Y.Z` и `latest`.
- Добавлено кэширование сборки через Buildx (`cache-from/cache-to` с backend `gha`).
- Подготовлена документация по CI/CD и процессу релизов.

Какие файлы добавлены:
- `.github/workflows/build.yml`
- `docs/CI-CD.md`
- `api/app/version.py`
- `dev/commits/commit-20260212-2023.md`

Как проверить CI:
- Выполнить push в `main` и убедиться, что workflow публикует теги `latest` и `sha-*` для `web` и `api`.
- Создать и отправить тег `vX.Y.Z`, затем проверить публикацию тегов `X.Y.Z` и `latest` в GHCR.
- Проверить пакеты в разделе GitHub Packages.

Следующий шаг:
- T-03: Ansible Production Deploy (pull образов из GHCR, идемпотентный деплой, управление `.env` через Ansible Vault, запуск в `/opt/www-stack`).
